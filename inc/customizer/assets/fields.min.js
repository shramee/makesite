/** * Renders js based fields * @author shramee * @since 1.0.0 */
jQuery(document).ready(function($){$( '.field-type-color' ).wpColorPicker();var wpd_frame, $textField;$('.upload-button').on('click', function (event) {event.preventDefault();$textField = $(this).siblings('input');if (wpd_frame) {wpd_frame.open();return;}wpd_frame = wp.media.frames.wpd_frame = wp.media({title: 'Choose Background Image',button: {text: 'Set As Background Image'},multiple: false});wpd_frame.on('select', function () {attachment = wpd_frame.state().get('selection').first().toJSON();$textField.val(attachment.url).change();});wpd_frame.open();});});
