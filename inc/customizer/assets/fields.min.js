/** * Renders js based fields * @author shramee * @since 1.0.0 */
jQuery(document).ready(function($){$( '.field-type-color' ).wpColorPicker();var ms_frame, $textField;$('.upload-button').on('click', function (event) {event.preventDefault();$textField = $(this).siblings('input');if (ms_frame) {ms_frame.open();return;}ms_frame = wp.media.frames.ms_frame = wp.media({title: 'Choose Background Image',button: {text: 'Set As Background Image'},multiple: false});ms_frame.on('select', function () {attachment = ms_frame.state().get('selection').first().toJSON();$textField.val(attachment.url).change();});ms_frame.open();});});
